* [task1后续完成情况](#task1后续完成情况)
* [task2操作文档](#task2操作文档)

<h2 id="task1后续完成情况">task1后续完成情况</h2>

因为在Ubuntu和CentOS上使用devstack部署OpenStack都因为各种原因失败了，所以重新下载了纯净版的CentOS7镜像，尝试使用Packstack部署OpenStack。

### 步骤一
只需下载**Openstack Ocata Repo**、**EPEL Repo** 和**Packstack package**， 其他的软件包由Packstack自动安装和部署。
```
[root@localhost ~]# yum -y install centos-release-openstack-ocata epel-release 
[root@localhost ~]# yum -y install openstack-packstack
```
### 步骤二
执行Packstack。
```
[root@localhost ~]# packstack --allinone 
```
如果以上命令执行过程都没有出现错误，OpenStack的部署就完成了。
![这里写图片描述](https://img-blog.csdn.net/20180417234353296?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180417234329421?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
### 步骤三
Keystone, Glance, Nova, Neutron, Swift, Cinder Ceilometer(+ Aodh,Gnocchi)等组件已经被packstack安装和部署成功，如果想下载更多组件如Trove或者Sagara等，也可以使用packstack命令下载。
<img src="https://img-blog.csdn.net/20180417230039850?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width=75%>
<img src="https://img-blog.csdn.net/20180417230311793?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width=85%>
<img src="https://img-blog.csdn.net/20180417230557483?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width=80%>
<img src="https://img-blog.csdn.net/20180417230803268?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlYXNoYXBlcl8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width=80%>

### 错误及解决方案
#### ERR1:
ERROR : Failed to run remote script, stdout: Loaded plugins: fastestmirror, langpacks
stderr: Warning: Permanently added '192.168.152.137' (ECDSA) to the list of known hosts.
```
[root@localhost ~]# vi /etc/hostname 
```
修改为`openstack01`
```
[root@localhost ~]# vi /etc/hosts
``` 
添加
```192.168.152.137    openstack01```
#### ERR2:
ERROR：Execution of '/usr/bin/yum -d 0 -e 0 -y install openstack-glance' returned 1: No Presto metadata available for centos-openstack-ocata
由于网络问题，可能会多次出现下载包不成功的情况，多次尝试下载即可。


<h2 id="task2操作文档">task2操作文档</h2>

### 步骤一

- 下载Ubuntu14.05 server镜像并安装
- 将openstack_m_v2.0_20180131.tar.gz利用FileZilla上传至虚拟机

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/32.png?raw=true" width=80%>

### 步骤二

- 按照Vinzor-openstack安装手册一步一步完成按照 

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/37.png?raw=true" width=80%>

- 此时，我们可以打开登录界面


<img src="https://github.com/south270/Image/blob/master/18shixun/task2/39.png?raw=true" width=80%>

### 步骤三

- 登陆后查看系统信息(用户名：admin，密码：配置时所设置的密码)

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/14.PNG?raw=true" width=60%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/15.PNG?raw=true" width=60%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/16.PNG?raw=true" width=60%>

### 步骤四

- 上传cirros镜像

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/44.png?raw=true" width=60%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/45.png?raw=true" width=70%>

- 创建flavor

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/17.PNG?raw=true" width=70%>

- 创建外部网络及外部子网（注意子网的ip设置）
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/1.png?raw=true" width=70%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/2.png?raw=true" width=70%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/3.png?raw=true" width=70%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/4.png?raw=true" width=70%>

- 创建vxlan网络

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/6.png?raw=true" width=70%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/5.png?raw=true" width=60%>

- 创建路由

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/7.png?raw=true" width=70%>
<img src="https://github.com/south270/Image/blob/master/18shixun/task2/8.png?raw=true" width=70%>

- 创建实例，并给test1添加浮动ip

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/13.PNG?raw=true" width=70%>

- 添加安全组规则

<img src="https://github.com/south270/Image/blob/master/18shixun/task2/9.png?raw=true" width=60%>

### 步骤五 ：尝试从不同实例之间互相ping
- 打开test1,和test2的控制台
