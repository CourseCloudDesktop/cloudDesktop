在经历了无数次的挣扎之后终于把任务2的锅补完了，只能说打不死的小强确实挺坚强的哈~ 哈哈哈，下面是任务2的部署文档
## 一、任务：
- 用集成脚本安装openstack，能够成功打开dashboard
- 制作镜像
- 虚拟网络

## 二、具体描述：
1. 成功搭建openstack环境后，通过dashboard登录。
2. 登陆后查看系统信息（看启动了什么服务）
3. 测试网络配置是否正确
    - 上传cirros镜像、创建flavor、创建vxlan网络、ext_net网络、路由
    - 创建实例
    - 添加安全组规则（ssh、icmp）
    - 尝试从不同实例之间互相ping。看是否成功
    具体参考这篇博客的后半部分：
    https://blog.csdn.net/dylloveyou/article/details/77148560 
    
## 三、任务完成情况
| 编号  | 项目内容 | 完成情况  | 未完成原因  | 措施  | 如何解决安装过程中遇到的问题 |
| :--- | :--------| :--------|:------------|:------| :-----------|
| 1    | 安装Ubuntu server虚拟机 |  100%  | / | /| / |
| 2    |   安装部署OpenStack|  100%  | / |/ | 详见"五、问题与解决方法" |
| 3    |   网络配置| 100%  | / | /| /|
| 4    |   制作镜像| 100% |  / | /| /|
| 5    |   虚拟网络| 100% |  / | /| /|


## 四、问题及解决办法
问题1：OpenStack安装到37%失败

措施1：主要是硬盘和内存分配不够，分配至少4G内存和60G硬盘

问题2： OpenStack安装到55%失败

措施2：重新设置了虚拟机的网络配置，并且eth0为静态ip，eth1为动态获取。虚拟机的两个网络适配器一个为NAT模式，另一个为仅主机模式，二者所处的网段不同 

问题3：打不开dashboard

措施3：在/var/log/apache2/error.log下查看发现如下错误：

<img src="https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task2/confimage/err5.png" width="80%" height="80%" /> 

解决办法：更改 /etc/openstack-dashboard/local_settings.py文件，将版本从v3.0变为v2.0 

<img src="https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task2/confimage/solv2.png" width="80%" height="80%" />

## 五、总结
任务2实在是花费了很多的时间，从安装openstack到最终的配置，其中最难的还是安装OpenStack部分的内容，安装的过程从最开始的尝试手动配置环境安装失败，到使用各种不同版本的Ubuntu安装TA给的集成安装部署文档，从一开始的分给虚拟机的内存和硬盘不够导致无法带动OpenStack，到最终各种尝试失败之后选择使用Ubuntu server 14来安装OpenStack，这一个过程确实真的挺漫长的，主要还是个人能力不够吧，以后还要多努力一些才行啊。在最开始的时候安装失败，不知道原因就傻乎乎的重装一遍，结果还是不成功，后来安装不成功的时候首先查看作物日志，根据错误日志上网寻找对应的解决办法，最终安装成功了，虽然从开始安装到最终安装成功花了很多时间，但是这个过程中也是学到不少东西。
