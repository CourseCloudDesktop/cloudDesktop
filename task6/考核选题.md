
## 选题：nova组件的学习

### 1、介绍openstack中的nova组件(总体逻辑结构)，选择nova-compute进行深入介绍
OpenStack组件总体架构：
我们小组决定选择nova-compute来进行深入的介绍：

<div align=center> <img src="https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task6/image/1.png" width="60%" height="60%" /></div>

nova-compute 的功能可以分为两类：定时向 OpenStack 报告计算节点的状态；实现 instance 生命周期的管理。分别对这两部分内容进行介绍来深入的介绍nova-compute组件

### 2、阐述nova-compute的设计思路与实现原理
#### （1）driver框架，包含hypervisor种类及其介绍，如何选择，如何与hypervisor交互

nova-compute 为这些 Hypervisor 定义了统一的接口，Hypervisor 只需要实现这些接口，就可以 Driver 的形式即插即用到 OpenStack 系统中。
下面是Nova Driver的架构示意图：

<div align=center> <img src="https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task6/image/3.png" width="60%" height="60%" /></div>

#### （2）scheduler调度服务，nova-sheduler如何选取一个最合适的计算节点来运行虚拟机

通过使用过滤器来选择最优的计算节点：介绍 nova-scheduler 的调度机制和实现方法：即解决如何选择在哪个计算节点上启动 instance 的问题。通过介绍Filter scheduler过滤器，来讲述nova-scheduler。Filter scheduler 是 nova-scheduler 默认的调度器，调度过程分为两步： 通过过滤器（filter）选择满足条件的计算节点（运行 nova-compute）；通过权重计算（weighting）选择在最优（权重值最大）的计算节点上创建 Instance。

    scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler
    
Nova 允许使用第三方 scheduler，配置 scheduler_driver 即可。 这又一次体现了OpenStack的开放性。 Scheduler 可以使用多个 filter 依次进行过滤，过滤之后的节点再通过计算权重选出最适合的节点。

<div align=center> <img src="https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task6/image/4.png" width="60%" height="60%" /></div>

上图是调度过程的一个示例： 
最开始有 6 个计算节点 Host1-Host6；通过多个 filter 层层过滤，Host2 和 Host4 没有通过，被刷掉了；Host1，Host3，Host5，Host6 计算权重，结果 Host5 得分最高，最终入选。对于上述过程进行详细的份详细来介绍nova-scheduler

### 3、能够通过编写代码添加nova-api以及调用该api，完成一些关于虚拟机的操作;可以参考horizon里面如何调用nova-api(加分项)
