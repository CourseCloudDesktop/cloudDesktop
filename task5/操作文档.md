## task5 部署文档
---
## 创建固定桌面

### 步骤一

登录云课室，点击左边菜单栏中**桌面管理**，选择**固定桌面**

### 步骤二

点击**创建**按钮，输入使用者、镜像、桌面配置、虚拟网络、外设策略和客户端连接协议，然后点击完成
注意：
* 使用者应在用户列表中（默认有teacher、student、admin）
* 桌面配置要符合选择的镜像的配置要求，比如上传镜像时设置了内存至少要10G，则桌面配置要≥10G
* 虚拟网络为虚拟子网

![固定桌面](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%9B%BA%E5%AE%9A%E6%A1%8C%E9%9D%A2.png?raw=true)

### 步骤三

等待，如无意外（内存不够之类的）应该会创建成功。

下图中第一条是创建失败的案例，因为桌面配置没有达到镜像的最低要求；

第二条其实是创建成功的，但是不知道为什么显示异常。
![固定桌面列表](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%9B%BA%E5%AE%9A%E6%A1%8C%E9%9D%A21.png?raw=true)

### 步骤四

点击桌面名称，在弹出框中按要求输入管理员ID和管理员密码以及用户密码，点击确定。
![身份认证](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%9B%BA%E5%AE%9A%E6%A1%8C%E9%9D%A22.png?raw=true)

### 步骤五

等待一会，就进入了这个桌面的控制台，输入镜像设置的用户名和密码后成功登录系统。
![固定桌面控制台](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%9B%BA%E5%AE%9A%E6%A1%8C%E9%9D%A2%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F.png?raw=true)

---

## 创建一个课程，并创建一个对应的课程桌面，课程名称请命名为自己的分支

### 步骤一

点击主页左侧菜单菜单栏的**课程管理**，点击创建课程。

### 步骤二

填写课程的基本信息，课程名称为本分支名字：mlp-develop。填写完信息后点击创建课程。

注意桌面配置也要符合镜像的配置要求

![填写课程的基本信息](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B1.png?raw=true)

### 步骤三

添加上课时间，为了截图把课程时间定成了凌晨0点到1点。
![添加上课时间](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B2.png?raw=true)

弹框提示添加上课时间成功：

![添加上课时间成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E6%B7%BB%E5%8A%A0%E4%B8%8A%E8%AF%BE%E6%97%B6%E9%97%B4%E6%88%90%E5%8A%9F1.png?raw=true)

点击下方的全部课表也可以上课时间记录：
![添加上课时间成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E6%B7%BB%E5%8A%A0%E4%B8%8A%E8%AF%BE%E6%97%B6%E9%97%B4%E6%88%90%E5%8A%9F2.png?raw=true)

### 步骤四

添加用户名，添加了学生用户student，点击完成，完成课程创建。
![添加用户名](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B3.png?raw=true)

返回到课程列表，可以看到该课程在列表中

![创建课程成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B%E6%88%90%E5%8A%9F1.png?raw=true)

点击课程名字查看课程基本信息

![创建课程成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B%E6%88%90%E5%8A%9F2.png?raw=true)

点击用户名单，可以看到student在名单中
![创建课程成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B%E6%88%90%E5%8A%9F3.png?raw=true)

点击课程桌面，由于只设置了桌面数目为1，所以列表中只有一台桌面。将桌面与student绑定。
![绑定课程桌面](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B%E6%88%90%E5%8A%9F4.png?raw=true)

点击桌面名称，进入桌面控制台，输入镜像设置的用户名和密码后成功登录系统。
![创建课程桌面成功](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E5%88%9B%E5%BB%BA%E8%AF%BE%E7%A8%8B%E6%A1%8C%E9%9D%A2.png?raw=true)

## 遇到的问题

1、创建课程桌面和固定桌面时，虽然配置没有问题，桌面实例也能打开，在openstack中也能看到对应的实例，但是显示状态为异常。

原因：询问ta后，ta说可能因为系统没激活

2、第一次创建的一个固定桌面，桌面配置和镜像要求不符，创建不成功，点击桌面名称后显示桌面不存在，但是无法在列表中删除。

原因：拥有该固定桌面的用户是admin，但是在用户管理中admin显示状态未激活，无法删除。
![](https://github.com/CourseCloudDesktop/cloudDesktop/blob/mlp-develop/task5/images/%E7%AE%A1%E7%90%86%E5%91%98%E6%97%A0%E6%B3%95%E6%BF%80%E6%B4%BB.png?raw=true)
