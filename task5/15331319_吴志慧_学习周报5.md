# OpenStack学习周报5
15331319 吴志慧
## 1. 本周具体工作计划
- 云桌面系统功能体验
  - 创建固定桌面
  - 创建一个课程，并创建一个对应的课程桌面，课程名称命名为自己的分支
- 了解云桌面相关背景知识
  - VDI概念解释以及实现原理
  - 实现的协议介绍（spice、vnc、rdp），进行对比
  - 集成脚本修改了什么配置文件导致控制台可以直接使用spice而不是用vnc？
## 2. 本周主要工作内容
### 2.1 已完成的工作
#### 2.1.1 云桌面功能体验
- 成功创建固定桌面，具体步骤见部署文档
- 创建一个课程和课程对应的桌面，具体步骤见部署文档
#### 2.1.2 了解云桌面相关背景知识
- VDI概念解释以及实现原理
  - **基本原理**  
  基于VDI的虚拟桌面解决方案，原理是在服务器侧为每个用户准备专用的虚拟机并在其中部署用户所需要的操作系统和各种应用，然后通过桌面显示协议将完整的虚拟机桌面交付给远程用户使用。这类解决方案的基础是服务器虚拟化。
  - **VDI的优势**
    - 兼容性好。基于VDI的解决方案，用户能获得一个完整的桌面操作系统环境，与传统的本地计算机使用体验十分接近，虚拟机几乎就像本地计算机一样，一般不会出现软件兼容性的问题。
    - 安全性高。基于VDI的解决方案，用户虚拟桌面能够实现安全隔离，各个用户拥有独立的虚拟机以及操作系统，安全性得到保障。
    - 性能隔离性高。基于VDI的解决方案，用户拥有独立的虚拟机，并拥有服务器虚拟化技术带来的其它优势，服务质量得到保障。
  - **VDI的劣势**
    - 服务器能力要求高。基于VDI的解决方案，需要在服务器侧部署服务器虚拟化及其管理软件，对计算资源和存储资源要求较高，需要较高的成本。
    - 实施与管理成本高。基于VDI的解决方案实施复杂，而且当用户数量很多时，需要管理庞大的虚拟机群。
- **实现的协议介绍**
  - **spice** Simple Protocol for Independent Computing Environments，是红帽企业虚拟化桌面版的主要技术组件之一，具有自适应能力的远程提交协议，能够提供与物理桌面完全相同的最终用户体验。借助支持SPICE协议的客户端（如remote-viewer）或者通过浏览器，用户可以访问自己的虚拟桌面
  ，Spice 包含四个部分：协议、客户端侧、服务端侧和虚拟机侧。
    - （1）协议：是客户端侧、服务端侧和虚拟机侧三个部分交互时所遵循的准则；
    - （2）客户端：负责接收并转换虚拟机数据，以及发送用户输入数据到虚拟机，从而使得用户能够与虚拟机进行交互；
    - （3）服务端：是集成在Hypervisor内部的一个用户层组件，使得Hypervisor（如QEMU）支持Spice协议；
    - （4）虚拟机侧：指所有部署在虚拟机内部的必需组件，如QXL驱动、Spice Agent等。
  - **vnc** VNC(Virtual Network Computing)是基于RFB（Remote Frame Buffer）协议进行通信的，是一个基于平台无关的简单显示协议的超级瘦客户系统。RFB 是真正意义上的“瘦客机”协议。RFB协议设计的重点在于减少对客户端的硬件需求。这样客户端就可以运行在许多不同的硬件上，
  客户机的任务实现上就会尽量的简单。
  - **rdp** 微软的远程桌面协议，大部分Windows都默认支持此协议，可以远程接入操作桌面。RDP主要传指令，RDP则将画图的工作交给了客户端，服务器需要了解客户端显示能力的具体情况，以便作出相应调整。RDP对客户端要求较高，适用于低速网络。
- **集成脚本修改了什么配置文件导致控制台可以直接使用spice而不是vnc？**

打开nova.conf文件，可以看到spice已启用，同时vnc被关闭，说明脚本修改了这个文件以使用spice。
![](https://raw.githubusercontent.com/CourseCloudDesktop/cloudDesktop/wcl-develop/task5/images/spice.png)
![](https://raw.githubusercontent.com/CourseCloudDesktop/cloudDesktop/wcl-develop/task5/images/vnc.png)
### 2.2 未完成的工作
无
### 2.3 问题与困难
无
## 3. 下周工作计划
按课程计划进行下一个阶段的工作
