# OpenStack学习周报4
## 1. 本周具体工作计划
- 虚拟网络配置
  - 虚拟机实例能够ping通外网
  - 能够利用Xshell或putty来连接实例
- 镜像制作
- 安装云桌面
## 2. 本周主要工作内容
### 2.1 已完成的工作
#### 2.1.1 虚拟机连接外网
这个按照教程将连接外网的网卡设置为桥接模式，再按照之前task3中设置网络的方式即可ping通外网。目前还存在的问题就是只能在WiFi环境下实现ping通外网，如果通过以太网连接到校园网的话则不能实现ping通外网
#### 2.1.2 镜像制作
镜像制作过程跟task3中的过程一样
#### 2.1.3 安装云桌面
根据安装手册使用安装脚本来进行安装即可
### 2.2 未完成的工作
无
### 2.3 问题与困难
- **在以太网+校园网的环境下无法实现ping通外网**

  这个目前暂时没找到解决方法，因为校园网的ip地址是需要账号密码验证之后才进行分配的，而设置为桥接模式的网卡并不能通过DHCP模式来从学校的服务器分配得到一个IP地址。
- **利用集成脚本安装云桌面时，安装到90%就停止了**

  根据日志，这个错误时因为缺少 `srv/www/vinzor/venv/bin/activate` 这个目录而导致的，出错的位置是在 `project.sh` 的37行。尝试过手动创建这个目录，然后重新安装，同样是一样的报错。而用于安装云桌面的脚本都是经过加密的二进制文件，直接用vi打开只是一堆乱码，根本不知道这个目录是在哪一步创建的。最后将系统回滚到刚装好OpenStack的状态就能正常安装了。
- **打开云桌面时网页显示 `Internal server error`**
	
	这个是因为服务器内部错误，有可能是之前启动的系统未正常关闭或者是服务器内存不够造成的。我是通过手动将云桌面的四个服务关闭再开启就能正常访问了。
## 3. 下周工作计划
按照TA的安排进行下一阶段的学习