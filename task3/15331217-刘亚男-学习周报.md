# 学习周报

* [本周具体工作计划](#一 )
* [本周主要工作内容](#二)
* [下周工作计划](#三)
* [建议与意见](#四)

<h2 id="一">一、本周具体工作计划</h2> 

- 制作windows7或者centos7或者ubuntu的镜像，格式为qcow2
  - 制作镜像：先下载要制作镜像的iso文件，启动系统
  - 用命令行/dashboard创建镜像
  - 查看镜像的信息、服务
  - 创建实例
  - 尝试用xshell或者桌面远程连接实例（安全组） 参考链接：
- 利用openstack上传镜像
- 能够成功创建、开启实例

<h2 id="二">二、本周主要工作内容</h2>

### 1. 已经完成工作
#### (1) iso和qcow2、img格式的区别
- IMG是一种文件压缩格式（archive format），主要是为了创建磁盘的映像文件（disk image），它可以用来压缩整个磁盘（通常指软磁盘，Floppy Disk或Diskette）或整片光盘的内容，使用".IMG"这个扩展名的文件就是利用这种文件格式来创建的。
- .IMG这个文件格式可视为.ISO格式的一种超集合。由于.ISO只能压缩使用ISO9660和UDF这两种文件系统的存储媒介，意即.ISO只能拿来压缩CD或DVD，因此才发展出了.IMG，它是以.ISO格式为基础另外新增可压缩使用其它文件系统的存储媒介的能力，.IMG可向后兼容于.ISO，如果是拿来压缩CD或DVD，则使用.IMG和.ISO这两种格式所压缩出来的内容是一样的。
- qcow2 镜像格式是 QEMU 模拟器支持的一种磁盘镜像。它也是可以用一个文件的形式来表示一块固定大小的块设备磁盘。它具有小的空间占用，支持写时拷贝（COW, copy-on-write），镜像文件只反映底层磁盘的变化，支持快照（snapshot），镜像文件能够包含多个快照的历史，可选择基于 zlib 的压缩方式，可以选择 AES 加密。
#### (2) 与镜像相关的openstack的一些命令
 - 上传镜像
 ```
  glance image-create --name IMAGE_NAME --file IMAGE_FILEPATH --disk-format qcow2 --container-format bare --is-public true --progress   
 ```
 　　或
 ```
 openstack image create --disk-format qcow2 --container-format bare --public --IMAGE_FILEPATH IMAGE_NAME
 ```
 - 查看镜像列表
 ```
 openstack image list | grep 'cirros'
 ```
 - 查看特定镜像相关信息
 ```
  openstack image show CirrosImageName
 ```
 - 查看flavor列表
 ```
 openstack flavor list
 ```
 - 查看镜像的位置信息
 ```
 openstack --os-image-api-version 2 image show imageID
 ```
 - 更新镜像
 ```
 openstack image set imageName
 ```
 - 上传iso镜像
 ```
 openstack image create ISO_IMAGE --file IMAGE.iso --disk-format iso --container-format bare
 ```
 - 查看日志或错误信息
 ```
  /var/log/nova/nova-api.log 
 ```
 　　和 
 ```
 /var/log/nova/nova-compute.log  
```

### 2. 未完成工作
未成功创建qcow2镜像
### 3. 问题与困难

- 在openstack使用iso镜像创建实例，进入安装界面，无法成功安装
- 在完成任务的过程中对于openstack的组件还是不够太了解，无法根据出现问题判断根源
<h2 id="三">三、下周工作计划</h2>

- 继续完成镜像制作

<h2 id="四">四、建议与意见（如有）</h2>
希望ta能够召开一次讨论，系统的解决一下之前大家遇到的问题。

