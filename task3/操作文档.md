
# 操作文档
## **一、首先把任务2完成，然后才是任务3的部署**
在经历了无数次的挣扎之后终于把任务2的锅补完了，只能说打不死的小强确实挺坚强的哈~ 哈哈哈，下面是任务2的部署文档
### 1、任务二的任务：
- 用集成脚本安装openstack，能够成功打开dashboard
- 制作镜像
- 虚拟网络

### 2、任务2具体描述：
1. 成功搭建openstack环境后，通过dashboard登录。
2. 登陆后查看系统信息（看启动了什么服务）
3. 测试网络配置是否正确
    - 上传cirros镜像、创建flavor、创建vxlan网络、ext_net网络、路由
    - 创建实例
    - 添加安全组规则（ssh、icmp）
    - 尝试从不同实例之间互相ping。看是否成功
    具体参考这篇博客的后半部分：
    https://blog.csdn.net/dylloveyou/article/details/77148560 
    
### 任2务完成情况
| 编号  | 项目内容 | 完成情况  | 未完成原因  | 措施  | 如何解决安装过程中遇到的问题 |
| :--- | :--------| :--------|:------------|:------| :-----------|
| 1    | 安装Ubuntu server虚拟机 |  100%  | / | /| / |
| 2    |   安装部署OpenStack|  100%  | / |/ | 详见"问题与解决方法" |
| 3    |   网络配置| 100%  | / | /| /|
| 4    |   制作镜像| 100% |  / | /| /|
| 5    |   虚拟网络| 100% |  / | /| /|

### 3、任务2的部署文档
#### 1、用集成脚本安装OpenStack
##### 1.1安装
运行安装脚本：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/images/1.png" width="50%" height = "50%">

##### 1.2打补丁
按照要求打补丁

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/images/3.png" width="50%" height = "50%">

这里就只放一个补丁的运行过程了

#### 2、在浏览器端完成相关的配置
##### 2.1验证：打开Dashboard
登录界面如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/4.png" width="50%" height = "50%">

进入之后的界面首页显示如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/5.png" width="50%" height = "50%">

##### 2.2查看服务
查看服务显示如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/6.png" width="50%" height = "50%">

计算服务显示如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/7.png" width="50%" height = "50%">

网络代理服务显示如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/8.png" width="50%" height = "50%">

##### 2.3上传镜像

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/9.png" width="50%" height = "50%">

#### 2.4添加flavors数
配置信息如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/10.png" width="50%" height = "50%">

配置结果显示如下所示：

<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/11.png" width="50%" height = "50%">

#### 2.5为admin用户创建一个VXLAN网络
基本配置显示如下所示：
<img src = "https://github.com/CourseCloudDesktop/cloudDesktop/blob/yxf-develop/task3/image/12.png" width="50%" height = "50%">


## **二、任务三的部署文档**
(已完成)</br>
1、用集成脚本安装OpenStack</br>
1.1安装</br>
1.2验证：打开Dashboard</br>
1.3验证：登陆主界面</br>

2、查看系统服务</br>
2.1 查看服务</br>
2.2 查看计算服务</br>
2.3 查看网络代理服务</br>

3、测试网络配置</br>
3.1 创建镜像</br>
3.2 创建flavor</br>


任务三遇到的问题</br>

------


## 1、用集成脚本安装OpenStack
### 1.1安装
运行安装脚本：

![](images/1.png)

按照要求打补丁

![](images/3.png)

这里就只放一个补丁的运行过程了
### 1.2验证：打开Dashboard

![](images/7-0.png)

### 1.3验证：登陆主界面

![](images/7.png)

## 2、查看系统服务



### 2.1 查看服务

![](images/8.png)

### 2.2 查看计算服务

![](images/9.png)

### 2.3 查看网络代理服务

![](images/10.png)


## 3、测试网络配置
### 3.1 创建镜像
（1）配置信息

![](images/11.png)

（2）配置效果

![](images/12.png)

### 3.2 创建flavor
（1）配置信息

![](images/13.png)

（2）配置效果

![](images/14.png)

### 3.3 为admin用户创建一个VXLAN类型的外部网络
（1）创建网络的配置信息

（2）创建网络效果

（3）创建子网的基本配置信息

（4）创建子网的详细配置信息

（5）效果

### 3.5 创建路由
（1）基本配置信息

（2）添加接口

（3）并且给test1添加浮动ip

（4）添加安全组规则

### 3.6 不同实例之间的互ping
（1）打开test1和test2的控制台

（2）test1 ping tets2

（3）test2 ping test1



## 任务三遇到的问题

dashboard突然打不开，挣扎一天了毫无进展，任务三无法继续。

![](images/err1.png)

1. 尝试apt-get update和安装一系列依赖包，失败

![](images/err2.png)


2. 正在考虑重装。


	


