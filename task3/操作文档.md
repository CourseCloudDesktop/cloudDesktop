# task3操作文档
## 实验准备
### 1.配置虚拟机支持KVM
![](images/allowKVM.png)
### 2.下载KVM所需包
## 创建系统盘
```
qemu-img create -f qcow2 Centos7.qcow2 20G
```
## 启动虚拟机instance
```
/usr/libexec/qemu-kvm -m 1024 -cdrom centos7.iso -drive file=Centos7.qcow2 -boot d -net nic -net user -nographic -vnc :3
```
## 下载VNC Viewer并对instance进行连接
![](images/connect_instance.png)
## 对instance进行安装
![](images/setup_instance.png) \
安装结束后重启instance 
```
/usr/libexec/qemu-kvm -m 1024 -drive file=centos7.qcow2 -boot c -net nic -net user -nographic -vnc :3
```
透过VNC Viewer重新对instance进行连接
![](images/login_instance.png)

## 在Openstack上创建镜像文件
```
openstack image create "centos7" --file Centos7.qcow2 --disk-format qcow2 --container-format bare --public
```
![](images/upload_image_toOpenstack.png)
![](images/image_list.png)
## 在Openstack上创建instance
网络部分出问题啦！卡住中...
