# 学习周报

## iso和qcow2、img格式的区别

ISO是光盘映像格式，ISO只能压缩使用ISO9660和UDF这两种文件系统的存储媒介。

IMG是以ISO格式为基础另外新增可压缩使用其它文件系统的存储媒介的能力，IMG可向后兼容于ISO，如果是拿来压缩CD或DVD，则使用IMG和ISO这两种格式所压缩出来的内容是一样的。

QCOW2是现在比较主流的一种虚拟化镜像格式，经过一代的优化，目前qcow2的性能上接近raw裸格式的性能。
对于qcow2的格式，几点还是比较突出的，qcow2的snapshot，可以在镜像上做N多个快照： 
更小的存储空间，即使是不支持holes的文件系统也可以（这下du -h和ls -lh看到的就一样了）Copy-on-write support, where the image only represents changes made to an underlying disk 
image

支持多个snapshot，对历史snapshot进行管理 
支持zlib的磁盘压缩 
支持AES的加密

## 为什么要自己制作镜像

定制镜像则可以保存好配置好的环境与磁盘状态，可以根据需要定制特殊的镜像直接使用，开启实例可以直接打开无需安装，提高了效率。

## 镜像制作到启动的步骤总结

1.开启cpu虚拟化，使用下面命令检查是否成功

    egrep -o '(vmx|svm)' /proc/cpuinfo

2.安装kvm

    sudo apt-get install qemu-kvm libvirt-bin kvm qemu virt-manager bridge-utils

3.创建一个空镜像，这块镜像用作硬盘，留出所需的空间的大小

4.将iso文件上传至虚拟机，置入某个文件夹，启动一个kvm虚拟机实例。

5.VncViewer远程连接实例并完成安装

6.上传镜像至dashboard验证完成
